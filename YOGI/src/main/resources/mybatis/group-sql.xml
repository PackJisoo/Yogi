<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC " - //mybatis.org//DTD Config 3.0//EN" " http://mybatis.org/dtd/mybatis-3-mapper.dtd">
     
<mapper namespace="group">

	<select id="group_select_all" resultType="hashmap" parameterType="hashmap">														
	  	
		select * from group_gathering	
		<where>		
		<if test="searchWord != null">
				(gg_name like '%' || #{searchWord} || '%'  or gg_detail like '%' || #{searchWord} || '%')
			</if>
			<if test="searchCategory != null">
				AND REGEXP_LIKE(gg_category,#{searchCategory})
			</if>
			<if test="searchAddr != null">
				AND REGEXP_LIKE(gg_place,#{searchAddr})
			</if>
			<if test="searchMStart != null">
				AND REGEXP_LIKE(gg_date,#{searchMStart})
			</if>
			<if test="searchPay != null">
				<if test='searchPay.equals("유료")'> 
					<![CDATA[ AND gg_cost > 0  ]]>	
				</if>
				<if test='searchPay.equals("무료")'>
					<![CDATA[ AND gg_cost <= 0 ]]>
				</if>
			</if>
		</where>	
		ORDER BY gg_no DESC	
																
	</select>

</mapper>